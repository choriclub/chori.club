<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Chorzos Parrilleros Club</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    * {
      box-sizing: border-box;
      font-family: Arial, Helvetica, sans-serif;
    }

    html, body {
      margin: 0;
      height: 100%;
      background: #0b0b0b;
      color: #fff;
    }

    /* ===== APP LAYOUT ===== */
    .app {
      display: flex;
      height: 100vh;
      width: 100%;
    }
    @media (max-width: 600px) {
	.app {
	  height: auto;
	  min-height: 100vh;
	  }
	body {
	  overflow-y: auto;
	}
	}
    /* ===== SIDEBAR ===== */
    .sidebar {
      width: 64px;
      /*background: red !important;*/
      background-image: url("logo.png");
      background-size: 75px auto;
      background-repeat: no-repeat;
      background-position: left 20px;
      padding-top: 100px;
      border-right: 1px solid #0a1cff;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      
      
    }
     

    .sidebar .icon {
      width: 36px;
      height: 36px;
      margin-bottom: 20px;
      background: #222;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

     .sidebar .icon {
	position: relative;
	cursor: pointer;
    }

     .sidebar .icon::after {
	content:attr(data-tooltip);
	position: absolute;
	left: 52px;
	top: 50%;
	transform: translateY(-50%);
	background: #111;
	color: #fff;
	padding: 6px 10px;
	font-size: 12px;
	white-space: nowrap;
	opacity: 0;
	pointer-events: none;
	transition: opacity 0.2s ease;	
    }

     .sidebar .icon:hover::after {
	opacity: 1;
    }	 	

    /* ===== MAIN CONTENT ===== */
    .content {
      flex: 1;
      display: flex;
      flex-direction: column;
      padding: 16px 24px 24px 24px;
      overflow: hidden;
    }

    /* ===== TOP MENU ===== */
    .top-menu {
      display: flex;
      align-items: center;
      gap: 24px;
      padding-bottom: 16px;
      border-bottom: 1px solid #0a1cff;
      margin-bottom: 16px;
    }

    .top-menu span {
      font-size: 14px;
      opacity: 0.8;
    }

    /* ===== HERO (60%) ===== */
       .hero {
       flex: 0 0 60%;
       min-height: 60vh;
       /*padding: 24px;*/
       margin-bottom: 16px;
       display: flex;
       flex-direction: column;
       justify-content: center;
       background-image:
        linear-gradient(
          rgba(10, 28, 52, 0.45),
          rgba(10, 28, 52, 0.45)
        ), url("banerprincipal.png");
	background-size: 1800px 1100px;
      	background-position: center;
      	background-repeat: no-repeat;
        border-radius: 28px;
	/*box-shadow:
		0 20px 40px rgba(0, 0, 0, 0.35),
		inset 0 1px 0 rgba(255, 255, 255, 0.08);*/
    }

    .hero h1 {
      margin: 0 0 12px 0;
      font-size: 48px;
      font-weight: 700;
      line-height: 1.1;
      text-align: center;
      
    }
    .hero h1 {
       text-shadow: 0 6px 20px;
       rgba (0,0,0,0.45);
 	    
	     }

    .hero p {
      opacity: 0.9;
      max-width: 680px;
      font-size: 20px;
      line-height: 1.6;
      text-align: center;
      margin: 0 auto;
      
    }

    .hero.is-holder {
	background:
	   linear-gradient(rgba(0,0,0,0.35),rgba(0,0,0,0.6)),
		url("banerprincipalprivado.png");
	}
	
    /* ===== CARDS (40%) ===== */
    .cards {
      flex: 0 0 25%;	
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 24px;
    }

    .card {
      background: #3a2f24;	
      border-radius: 12px;
      padding: 16px;
      display: flex;
      align-items: flex-end;
      font-size: 13px;
      opacity: 1;
    }
    

    /* ===== RESPONSIVE =====    HERO TABLET FIX*/
    @media (max-width: 900px) {
      .cards {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (max-width: 600px) {
      .app {
        flex-direction: column;
	.hero {
		min-height: 65vh;
		padding 24px 18px;
		border-radius: 18px;
		background-size: cover;
		background-position: center;
	       }

	.hero h1 {
		font-size: 34px;
		line-height: 1.15;
		margin-bottom: 14px;
		}

	.hero p {
		font-size: 16px;
		line-height: 1.6;
		max-width: 100%;
		padding: 0 6px;
		}
	

	/*   BARRA LATERAL EN LA WEB CONVERTIMOS A CENTRAL ARRIBA */
	.sidebar {
		width: 100%;
		height: 56px;
		flex-direction: row;
		justify-content: center;
		align-items: center;
		gap: 18px;
		
		position: sticky;
		top: 0;
		z-index: 50;
		border-right: none;
		border-bottom: 1px solid #1f1f1f;
		padding: 0;
		}
		
		/* ICONOS MAS GRANDES Y CENTRADOS*/

	.sidebar .icon {
		margin: 0;
		width: 40px;
		height: 40px;	
		font-size: 18px;
		}
	
		/* DESACTIVAMOS TOOLTIPS*/					 

	.sidebar .icon::after {
		display: none;
		}


	/* ===== CARDS MOBILE LAYOUT ===== */
	/*.cards {
		display: flex;
  		flex-direction: column;
		gap: 16px;
	}

	/* Cards grandes y legibles */
	.card {
  		min-height: 140px;
		padding: 18px;
  		border-radius: 16px;
  		font-size: 15px;
	}

	/* Mostrar siempre el contenido (sin hover) */
	.card .card-overlay {
		position: static;
  		opacity: 1;
  		transform: none;
		background: transparent;
  		color: #fff;
  		padding: 0;
	}*/

	/* NUEVO DISE√ëO DE CARDS PARA MOVIL PARA QUE SALGA TEXTO SI SE PULSAN*/
	
	.cards {
  		display: flex;
		flex-direction: column;
  		gap: 16px;
		}

	.card {
  		position: relative;
  		min-height: 140px;
  		padding: 18px;
	  	cursor: pointer;
		}

	.card .card-overlay {
  		position: absolute;
  		inset: 0;
	  	padding: 18px;
  		opacity: 0;
  		background: rgba(0, 0, 0, 0.85);
  		transition: opacity 0.25s ease;
  		display: flex;
  		align-items: center;
  		justify-content: center;
	  	text-align: center;
		}

	.card.active .card-overlay {
  		opacity: 1;
		}

	
	/* Desactivar efectos hover en m√≥vil */
	.card:hover .card-overlay {
  		opacity: 1;
  		transform: none;
	}
	

	/* ===== TOP MENU MOBILE FIX ===== */
       .top-menu {
 		flex-wrap: wrap;
  		gap: 12px;
  		justify-content: center;
  		padding-bottom: 12px;
		}

	/* Texto del men√∫ m√°s compacto */
       .top-menu span {
  		font-size: 13px;
  		opacity: 0.85;
		}

	/* Botones grandes y tocables */
	.top-menu button {
  		flex: 1 1 100%;
  		max-width: 260px;
  		padding: 10px 16px;
  		font-size: 14px;
  		border-radius: 22px;
		}


	/* ===== FIX SCROLL MOBILE (DEFINITIVO) ===== */

	/* Permitir que la app crezca */
	.app {
  		height: auto;
  		min-height: 100vh;
	}

	/* Contenido con scroll real */
	.content {
  		overflow-y: auto;
		overflow-x: hidden;
  		-webkit-overflow-scrolling: touch;
	}

	/* Asegurar que las cards empujan hacia abajo */
	.cards {
  		flex: none;
		}

	/* Cards tap behavior */
	.card {
  		position: relative;
  		cursor: pointer;
	}

	.card .card-overlay {
  		opacity: 0;
  		transform: translateY(10px);
  		transition: all 0.25s ease;
	}

	/* Card activa */
	.card.active .card-overlay {
  		opacity: 1;
  		transform: translateY(0);
	}
      }

	/* ===== DEBUG TAP MODE (OVERRIDE TOTAL) ===== */
	.card .card-overlay {
		opacity: 0 !important;
  		position: absolute !important;
  		inset: 0 !important;
  		/*background: rgba(255, 0, 0, 0.8) !important;*/
  		display: flex !important;
	  	align-items: center !important;
  		justify-content: center !important;
	}

	.card.active .card-overlay {
  		opacity: 1 !important;
	}

 	/* ACABA LA FUNCION @MEDIA, QUE DA FORMATO A LA WEB DEL MOVIL*/


      .sidebar {
        flex-direction: row;
        width: 100%;
        height: 56px;
        border-right: none;
        border-bottom: 1px solid #0a1cff;
        gap: 16px;
      }

      .content {
        padding: 16px;
      }

      .hero {
        height: 300px;
      }

      .cards {
        grid-template-columns: 1fr;
      }
    }

    /* ===== BOTONES ===== */
    .top-menu button {
      background: #0a1cff;
      color: #fff;
      border: 1px solid #fff;
      padding: 6px 14px;
      border-radius: 18px;
      font-size: 13px;
      cursor: pointer;
    }

    .top-menu button:hover {
      background: #0817cc;
    }

    .logobaner {
	width: 40px;
	height: 40px;
	margin-bottom: 16px;
	}

     /*.card-1 {
	background-image:
        linear-gradient(
          rgba(10, 28, 255, 0.45),
          rgba(10, 28, 52, 0.45)
        ), url("card-1.png");
	background-size: cover;
      	background-position: center;
      	background-repeat: no-repeat;
	}*/

	.card-1 {
	background-image:
        linear-gradient(
          rgba(10, 28, 255, 0.45),
          rgba(10, 28, 52, 0.45)
        ), url("card-1.png");
	background-size: cover;
      	background-position: center;
      	background-repeat: no-repeat;
	}

       .card-2 {
	background-image:
        linear-gradient(
          rgba(10, 28, 255, 0.45),
          rgba(10, 28, 52, 0.45)
        ), url("card-2.png");
	background-size: cover;
      	background-position: center;
      	background-repeat: no-repeat;
	}
	
	.card-3 {
	background-image:
        linear-gradient(
          rgba(10, 28, 255, 0.45),
          rgba(10, 28, 52, 0.45)
        ), url("card-3.png");
	background-size: cover;
      	background-position: center;
      	background-repeat: no-repeat;
	}

	.card-4 {
	background-image:
        linear-gradient(
          rgba(10, 28, 80, 0.45),
          rgba(10, 28, 200, 0.45)
        ), url("card-4.png");
	background-size: cover;
      	background-position: center;
      	background-repeat: no-repeat;
	}
	/* HACEMOS QUE NUESTRAS CARDS AL PASAR EL RAT√ìN MUESTREN EL TEXTO QUE SE LES INDICA*/

	.card {
		position: relative;
		overflow: hidden;
	       }

	.card-tittle {
		position: relative;
		z-index: 1;
		}

	.card-overlay {
		position: absolute;
		inset: 0;
		padding: 16px;
		background: rgba (10,28,255,0.9);
		color: #fff;
		font-size: 14px;
		line-height: 1.4;
		opacity: 0;
		display: flex;
		align-items: center;
		z-index: 10;
		transition: opacity 0.25s ease;
		}
	.card-chat .card-overlay {
		background: rgba(10, 28, 355, 0.4);
	}	

	.card-chat:hover .card-overlay {
		opacity: 1;
	 }

	.card-events .card-overlay {
		background: rgba(0, 160, 90, 0.4);
	}
	
	.card-events:hover .card-overlay {
		opacity: 1;
	}
	
	.card-access .card-overlay {
		background: rgba(0, 0, 0, 0.6);
	}
	
	.card-access:hover .card-overlay {
		opacity: 1;
	}

	.card-merch .card-overlay {
		background: rgba(180, 30, 30, 0.4);
	}
	
	.card-merch:hover .card-overlay {
		opacity: 1;
	}
	
	.buy-note {
		font-size: 12px;
		opacity: 0.6;
	}

	/* Antes de entrar estas dos funciones desactivan el overlay del rat√≥n sobre las cards*/
	.card {
  		opacity: 0.7;
  		pointer-events: none;
	      }

       /* Despu√©s de entrar */
	body.holder .card {
  		opacity: 1;
  		pointer-events: auto;
	}	

	/* Estado p√∫blico: antes de conectar */
	body:not(.holder) .sidebar .icon,
	body:not(.holder) span {
  		pointer-events: none;
  		opacity: 0.6;
  		cursor: default;
	}

	/* Buy siempre activo */
	body:not(.holder) .btn-buy {
  		pointer-events: auto;
  		opacity: 1;
  		cursor: pointer;
	}
	body:not(.holder) .btn-enterClub {
		pointer-events: auto;
		opacity: 1;
		cursor: pointer;
	}

	/* Estado privado: despu√©s de entrar */
	body.holder .sidebar .icon,
	body.holder .top-menu span {
		pointer-events: auto;
  		opacity: 1;
  		cursor: pointer;
	}
	
	body.holder .dev-only {
		pointer-events: auto;
	}

	body.holder .hero{
		background-image:url("banerprincipalprivado.png");
	}

	body:not(.holder) .card {
		pointer-events: none;
	}
	
	body.holder .card {
		pointer-events: auto;
	}

	body.holder #enterClubBtn {
		pointer-events: none;
		opacity: 0.5;
	}

		
</style>
</head>

<body>

  <div class="app">

    <!-- SIDEBAR -->
    <aside class="sidebar">
      <div class="icon dev-only" data-tooltip="Chat" onclick="showDevNotice()">üí¨</div>
      <div class="icon dev-only" data-tooltip="Envents" onclick="showDevNotice()">üéü</div>
      <div class="icon dev-only" data-tooltip="Merch" onclick="showDevNotice()">üëï</div>
      <div class="icon dev-only" data-tooltip="Contact" onclick="showDevNotice()">‚úâÔ∏è</div>
      <div class="icon dev-only" data-tooltip="Legal" onclick="showDevNotice()">‚öñÔ∏è</div>	
    </aside>

    <!-- MAIN CONTENT -->
    <main class="content">

      <!-- TOP MENU -->
      <nav class="top-menu">
        <span>Home</span>
        <span>Status</span>
        <span>Members</span>
 	<span>   --> Offers</span>
        <button id="enterClubBtn" onclick="enterClub()">Enter the Club</button>
	<a href="https://pancakeswap.finance/swap?chain=bsc&inputCurrency=0xbb4CdB9CBd36B01bD1cBaEBF2De08d9173bc095c&outputCurrency=0xCb4c4Ab7EA9A6fc417E2110Ef4073fa5614Aa5a8"
  	    target="_blank"
            rel="noopener noreferrer">
            <button>Buy CHORI</button>
	</a>
	<span class="buy-note">
	    Only buy via ths link or the official contract on BscScan.
	</span>
	<span>    ############# PRIVATE BETA - ACCESS BY STATUS ############# </span>
       
      </nav>

      <!-- HERO -->
        <section class="hero">
        <h1>Chorizos Parrilleros Club</h1>
        <p>
          Not a meme coin. The difference between being ‚Äî and being inside.
          A private club defined by on-chain status.
        </p>
      </section>

      <!-- CARDS -->
      <section class="cards">
        <div class="card card-1 card-chat">
	<span class="card-tittle">Private Discussions</span>
	<div class="card-overlay">
		The Chori Club chat offers a private comunication space for members, withd access and visibility determinet by on chain status.
	</div>
	</div>

        <div class="card card-2 card-events">
	<span class="card-tittle">Members Events</span>
	<div class="card-overlay">
	Chori Club does no organize free events. Membership grants access to private experiences
	that may be enabled as the club grows and reaches critical mass"
	</div>
	</div>

        <div class="card card-3 card-access">
	<span class="card-tittle">Limited Access</span>
	<div class="card-overlay">
	Access to the Chori Club, is granted only by purchasing and holding $CHORI. 
	The "Enter the Club" button verifies holder status via wallet connection.
	No gas is required. No personal data is stored.
	</div>
	</div>

        <div class="card card-4 card-merch">
	<span class="card-tittle">Club Merch</span>
	<div class="card-overlay">
	Merchandise is not an obligation of the Chori Club.
	Exclusive products may be offered to members through different formats, always as optional purchases and never as incentives.
	</div>
	</div>
      </section>

    </main>
 </div>
  
 <script>
  document.querySelectorAll('.card').forEach(card => {
    card.addEventListener('click', () => {
      document.querySelectorAll('.card').forEach(c => {
        if (c !== card) c.classList.remove('active');
      });
      card.classList.toggle('active');
    });
  });
</script>

<script>
  function isMobileDevice() {
  return /Android|iPhone|iPad|iPod/i.test(navigator.userAgent);
}
</script>

<script>
async function enterClub() {
  if (isMobileDevice()) {
    enterClubMobile();
  } else {
    enterClubDesktop(); // üëà TU FUNCI√ìN ACTUAL, SIN CAMBIOS
  }
}
</script>


<script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>

<script>
async function enterClubMobile() {
  // üîπ Aviso claro al usuario
  alert("We will connect to your wallet to verify CHORI holding. No gas required.");

  // üîπ Abrimos la wallet app y volvemos a la web
  const dappUrl = encodeURIComponent("https://chori.club");
  window.location.href = "https://metamask.app.link/dapp/" + dappUrl;
}
</script>

<script>
const CHORI_CONTRACT = "0xCb4c4Ab7EA9A6fc417E2110Ef4073fa5614Aa5a8";
const ERC20_ABI = [
  "function balanceOf(address owner) view returns (uint256)",
  "function decimals() view returns (uint8)"
];

async function enterClubDesktop() {
  try {
    if (!window.ethereum) {
      alert("MetaMask not detected");
      return;
    }

    // 1. Pedir wallet SIEMPRE
    const accounts = await window.ethereum.request({
      method: "eth_requestAccounts"
    });
    const user = accounts[0];

    // 2. Forzar BSC
    const chainId = await ethereum.request({ method: "eth_chainId" });
    if (chainId !== "0x38") {
      alert("Please switch to Binance Smart Chain");
      return;
    }

    // 3. Provider + contrato
    const provider = new ethers.providers.Web3Provider(window.ethereum);
    const contract = new ethers.Contract(CHORI_CONTRACT, ERC20_ABI, provider);

    const balance = await contract.balanceOf(user);

    // 4. Decisi√≥n FINAL
    if (balance.gt(0)) {
      document.body.classList.add("holder");
      document.querySelector(".hero").innerHTML=
      `<h1>Welcome to Chori Club </h1>		
      <p> Status veried on-chain.
	Private access granted.</p>`; 	
    } else {
      alert("You must hold CHORI to enter the club");
    }

  } catch (err) {
    console.error(err);
    alert("Wallet connection cancelled or failed");
  }
}
</script>



<script>
function showDevNotice() {
  alert("üöß Section under development.\nAvailable soon for members.");
}
</script>

</body>
</html>